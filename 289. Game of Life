class Solution {
    public void gameOfLife(int[][] board) {
        int m = board.length, n = board[0].length;

        for(int i=0;i<m;i++){
            for(int j=0;j<n;j++){
                int live = count(board , i , j , m , n);

                if(board[i][j] == 1 && (live < 2 || live > 3)){
                    board[i][j] = -1; // alive -> dead
                }
                if(board[i][j] == 0 && live ==3){
                    board[i][j] = 2; // dead -> alive
                }
            }
        }
        for(int i=0;i<m;i++){
            for(int j=0;j<n;j++){
                board[i][j] = board[i][j] > 0 ? 1 : 0;
            }
        }
    }
     private int count(int[][] board, int i, int j, int m, int n) {
        int live = 0;
        for (int x = i - 1; x <= i + 1; x++) {
            for (int y = j - 1; y <= j + 1; y++) {
                if (x == i && y == j) continue;
                if (x >= 0 && x < m && y >= 0 && y < n) {
                    if (Math.abs(board[x][y]) == 1) live++;
                }
            }
        }
        return live;
     }
}
